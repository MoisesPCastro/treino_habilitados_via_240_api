datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Aluno {
  id               String        @id @default(uuid())
  nome             String
  categoriaCnh     String
  telefone         String
  email            String?
  totalAulas       Int
  aulasConcluidas  Int            @default(0)
  possuiPendencia  Boolean        @default(false)
  status           String         @default("ativo")
  createdAt        DateTime       @default(now())
  updatedAt        DateTime       @updatedAt

  // ðŸ”— Relacionamentos
  aulas            Aula[]
  pagamentos       Pagamento[]
}

model Aula {
  id          String     @id @default(uuid())
  alunoId     String
  data        DateTime
  hora        String
  duracao     Int
  status      String      @default("agendada")
  paga        Boolean     @default(false)
  observacoes String?
  createdAt   DateTime    @default(now())
  updatedAt   DateTime    @updatedAt

  // ðŸ”— RelaÃ§Ã£o com o Aluno
  aluno       Aluno       @relation(fields: [alunoId], references: [id], onDelete: Cascade)
}

model Pagamento {
  id              String     @id @default(uuid())
  alunoId         String
  valorTotal      Float
  valorPago       Float
  dataVencimento  DateTime
  status          String      @default("pendente")
  createdAt       DateTime    @default(now())
  updatedAt       DateTime    @updatedAt

  // ðŸ”— RelaÃ§Ã£o com o Aluno
  aluno           Aluno       @relation(fields: [alunoId], references: [id], onDelete: Cascade)
}
